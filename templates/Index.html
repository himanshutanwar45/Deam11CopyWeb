<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Login Page</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/Login.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous" />
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/Loader.css') }}">
</head>

<body>
    <div class="container">
        <div class="screen">
            <div class="screen__content">
                <form class="login" method="post" action="/Login">
                    <div class="login__field">
                        <i class="login__icon fas fa-user"></i>
                        <input type="text" class="login__input" placeholder="Server Name" id="server_name"
                            name="server_name" readonly>
                    </div>

                    <div class="login__field">
                        <input type="text" class="login__input" placeholder="Database Name" id="db_name"
                            name="db_name" readonly>
                    </div>

                    <div class="login__field">
                        <i class="login__icon fas fa-user"></i>
                        <input type="text" class="login__input" placeholder="Email" id="UserName" name="UserName">
                    </div>

                    <div class="login__field">
                        <i class="login__icon fas fa-lock"></i>
                        <input type="password" class="login__input" placeholder="Password" id="Password_Login"
                            name="Password_Login">
                        <div class="input-group-append">
                            <span class="input-group-text" onclick="password_show_hide()">
                                <i class="fas fa-eye" id="show_eye"></i>
                                <i class="fas fa-eye-slash d-none" id="hide_eye"></i>
                            </span>
                        </div>
                    </div>

                    <button type="submit" class="button login__submit" name="LoginForm" id="LoginForm">
                        <span class="button__text">Log In</span>
                        <i class="button__icon fas fa-chevron-right"></i>
                    </button>

                    <!-- <button type="submit" class="button login__submit" name="CreateConn" id="CreateConn">
                        <span class="button__text">Connection</span>
                        <i class="button__icon fas fa-chevron-right"></i>
                    </button> -->
                

            </div>
            <div class="screen__background">
                <span class="screen__background__shape screen__background__shape4"></span>
                <span class="screen__background__shape screen__background__shape3"></span>
                <span class="screen__background__shape screen__background__shape2"></span>
                <span class="screen__background__shape screen__background__shape1"></span>
            </div>
        </div>
    </div>

    <!-- <div class="modal-container" id="modal-container">
        <div class="modal-backdrop">

        </div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-heading"> Setup Connection With Server OneTime </h3>
                <span onclick="CloseConnection(event)" class="close" title="Close Modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="right-session-content">
                    <div class="right-session-input">
                        <div class="right-input-box">
                            <input type="text" id="server_name_1" placeholder="Enter Server Name" name="server_name_1"
                                readonly>
                        </div>
                        <div class="right-input-box">
                            <input type="text" id="db_name_1" placeholder="Enter Database Name" name="db_name_1"
                                value="Cricket" readonly>
                        </div>
                        <div class="right-input-box">
                            <input type="text" id="UID" placeholder="Enter UID" name="UID">
                        </div>
                        <div class="right-input-box">
                            <input type="password" id="Pass" placeholder="Enter Password" name="Pass">
                        </div>
                        <div class="btn-execute">
                            <input type="submit" value="Add" id="connection_create" name="connection_create"
                                class="button login__submit">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
</form>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!--Password show and hide-->
<script>
    function password_show_hide() {
        var x = document.getElementById("Password");
        var show_eye = document.getElementById("show_eye");
        var hide_eye = document.getElementById("hide_eye");
        hide_eye.classList.remove("d-none");
        if (x.type === "password") {
            x.type = "text";
            show_eye.style.display = "none";
            hide_eye.style.display = "block";
        } else {
            x.type = "password";
            show_eye.style.display = "block";
            hide_eye.style.display = "none";
        }
    }
</script>
<!--Open one time Connection page-->
<!-- <script>
    $(document).ready(function () {
        $("#CreateConn").click(function (event) {
            event.preventDefault();
            $("#modal-container").css('display', 'flex')
        })
    })
</script>

<script>
    function CloseConnection(event) {
        event.preventDefault();
        let divopen = document.getElementById('modal-container')
        divopen.style.display = 'none';
    }

</script> -->

<script>
    $(document).ready(function () {
        $.ajax({
            url: '/OTS/Connections',
            type: 'GET',
            success: function (data) {
                $.each(data, function (index, row) {
                    let server_name = row.server_name;
                    let login_id = row.login_id;
                    let password = row.password;
                    let db_name = row.db_name;
                    $("#server_name").val('34.131.83.148')
                    $("#UID").val(login_id)
                    $("#Pass").val(password)
                    $("#db_name").val('CricketDB')
                })
            }
        })
    })
</script>



</html>